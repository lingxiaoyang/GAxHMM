<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,1" id="srcline1">  1</a></span><span class="line"><span class="keyword">function</span> <span class="var type1" id="S2T48U3">Results</span> = classifyNotes(<span class="var type1" id="S3T1U6">notes_gt</span>,<span class="var type1" id="S4T1U7">notes_tr</span>, <span class="var type1" id="S5T2U8">onset_lim</span>, <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,2" id="srcline2">  2</a></span><span class="line">    <span class="var type1" id="S6T2U9">dur_percent_range</span>, <span class="var type1" id="S7T2U10">min_dur_dist</span>, <span class="var type1" id="S8T2U11">f0_range_in_cents</span>, <span class="var type1" id="S9T2U12">hopsize</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,3" id="srcline3">  3</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,4" id="srcline4">  4</a></span><span class="line"><span class="comment">%onset_lim = 0.05; %secs % Default parameters (used in MIREX):</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,5" id="srcline5">  5</a></span><span class="line"><span class="comment">%dur_percent_range = 20; % percentage</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,6" id="srcline6">  6</a></span><span class="line"><span class="comment">%min_dur_dist = 0.05; %secs</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,7" id="srcline7">  7</a></span><span class="line"><span class="comment">%f0_range_in_cents = 50; %cents</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,8" id="srcline8">  8</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,9" id="srcline9">  9</a></span><span class="line"><span class="comment">%hopsize=0.01;</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,10" id="srcline10"> 10</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,11" id="srcline11"> 11</a></span><span class="line"><span class="comment">% Author: Emilio Molina (emm@ic.uma.es)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,12" id="srcline12"> 12</a></span><span class="line"><span class="comment">% 23/09/2014</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,13" id="srcline13"> 13</a></span><span class="line"><span class="comment">% In case you use this software tool, please cite the following paper:</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,14" id="srcline14"> 14</a></span><span class="line"><span class="comment">% [1] Molina, E., Barbancho A. M., Tardon, L. J., Barbancho, I., "Evaluation</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,15" id="srcline15"> 15</a></span><span class="line"><span class="comment">% framework for automatic singing transcription", Proceedings of ISMIR 2014</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,16" id="srcline16"> 16</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,17" id="srcline17"> 17</a></span><span class="line"><span class="comment">% Please, refer to the README.txt for more information about the license</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,18" id="srcline18"> 18</a></span><span class="line"><span class="comment">% issues of this software tool.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,19" id="srcline19"> 19</a></span><span class="line"><span class="comment">% ----------------------------------------------------------------------</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,20" id="srcline20"> 20</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,21" id="srcline21"> 21</a></span><span class="line"><span class="comment">% Results = classifyNotes(fileTranscription,fileGroundTruth) return a set</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,22" id="srcline22"> 22</a></span><span class="line"><span class="comment">% of evaluation measures (within a struct variable) that represents the</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,23" id="srcline23"> 23</a></span><span class="line"><span class="comment">% transcription performance of fileTranscription (MIDI or ASCII-formatted</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,24" id="srcline24"> 24</a></span><span class="line"><span class="comment">% file) with respect to fileGroundTruth.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,25" id="srcline25"> 25</a></span><span class="line"><span class="comment">% </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,26" id="srcline26"> 26</a></span><span class="line"><span class="comment">% -- INPUTS --------------------------------</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,27" id="srcline27"> 27</a></span><span class="line"><span class="comment">% Both fileTranscription and fileGroundTruth are monophonic melodies. Two</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,28" id="srcline28"> 28</a></span><span class="line"><span class="comment">% formats are accepted: (1) monophonic, one track MIDI file or (2)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,29" id="srcline29"> 29</a></span><span class="line"><span class="comment">% ASCII-formatted in three columns as follows:</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,30" id="srcline30"> 30</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,31" id="srcline31"> 31</a></span><span class="line"><span class="comment">%          Onset (seconds) - Offset (seconds) - Pitch (MIDI number)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,32" id="srcline32"> 32</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,33" id="srcline33"> 33</a></span><span class="line"><span class="comment">% Note that, is ASCII-formatted files, the 3rd columns 'Pitch' may contain</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,34" id="srcline34"> 34</a></span><span class="line"><span class="comment">% non-integer values.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,35" id="srcline35"> 35</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,36" id="srcline36"> 36</a></span><span class="line"><span class="comment">% -- OUTPUT -------------------------------</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,37" id="srcline37"> 37</a></span><span class="line"><span class="comment">% The ouput Results is a struct containing all the evaluation measures</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,38" id="srcline38"> 38</a></span><span class="line"><span class="comment">% described in [1]:</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,39" id="srcline39"> 39</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,40" id="srcline40"> 40</a></span><span class="line"><span class="comment">% Results.Dur_GT --&gt; Duration of fileGroundTruth</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,41" id="srcline41"> 41</a></span><span class="line"><span class="comment">% Results.Dur_TR --&gt; Duration of fileTranscription</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,42" id="srcline42"> 42</a></span><span class="line"><span class="comment">% Results.N_GT --&gt; No. of notes in fileGroundTruth</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,43" id="srcline43"> 43</a></span><span class="line"><span class="comment">% Results.N_TR --&gt; No. of notes in fileTranscription</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,44" id="srcline44"> 44</a></span><span class="line"><span class="comment">%   COnPOff: Correct Onset, Pitch &amp; Offset</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,45" id="srcline45"> 45</a></span><span class="line"><span class="comment">% Results.COnPOff_listgt</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,46" id="srcline46"> 46</a></span><span class="line"><span class="comment">% Results.COnPOff_Precision</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,47" id="srcline47"> 47</a></span><span class="line"><span class="comment">% Results.COnPOff_Recall</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,48" id="srcline48"> 48</a></span><span class="line"><span class="comment">% Results.COnPOff_Fmeasure</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,49" id="srcline49"> 49</a></span><span class="line"><span class="comment">%   COnP: Correct Onset, Pitch</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,50" id="srcline50"> 50</a></span><span class="line"><span class="comment">% Results.COnP_listgt</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,51" id="srcline51"> 51</a></span><span class="line"><span class="comment">% Results.COnP_Precision</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,52" id="srcline52"> 52</a></span><span class="line"><span class="comment">% Results.COnP_Recall</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,53" id="srcline53"> 53</a></span><span class="line"><span class="comment">% Results.COnP_Fmeasure</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,54" id="srcline54"> 54</a></span><span class="line"><span class="comment">%   COn: Correct Onset</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,55" id="srcline55"> 55</a></span><span class="line"><span class="comment">% Results.COn_listgt</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,56" id="srcline56"> 56</a></span><span class="line"><span class="comment">% Results.COn_Precision</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,57" id="srcline57"> 57</a></span><span class="line"><span class="comment">% Results.COn_Recall</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,58" id="srcline58"> 58</a></span><span class="line"><span class="comment">% Results.COn_Fmeasure</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,59" id="srcline59"> 59</a></span><span class="line"><span class="comment">%   OBOn: Only Bad Onset (i.e. Correct Pitch&amp;Offset, Wrong Onset)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,60" id="srcline60"> 60</a></span><span class="line"><span class="comment">% Results.OBOn_listgt</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,61" id="srcline61"> 61</a></span><span class="line"><span class="comment">% Results.OBOn_rategt</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,62" id="srcline62"> 62</a></span><span class="line"><span class="comment">%   OBP: Only Bad Pitch (i.e. Correct Onset&amp;Offset, Wrong Pitch)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,63" id="srcline63"> 63</a></span><span class="line"><span class="comment">% Results.OBP_listgt</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,64" id="srcline64"> 64</a></span><span class="line"><span class="comment">% Results.OBP_rategt</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,65" id="srcline65"> 65</a></span><span class="line"><span class="comment">%   OBOff: Only Bad Offset (i.e. Correct Onset&amp;Pitch, Wrong Offset)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,66" id="srcline66"> 66</a></span><span class="line"><span class="comment">% Results.OBOff_listgt</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,67" id="srcline67"> 67</a></span><span class="line"><span class="comment">% Results.OBOff_rategt</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,68" id="srcline68"> 68</a></span><span class="line"><span class="comment">%   S: Split</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,69" id="srcline69"> 69</a></span><span class="line"><span class="comment">% Results.S_listgt</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,70" id="srcline70"> 70</a></span><span class="line"><span class="comment">% Results.S_rategt</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,71" id="srcline71"> 71</a></span><span class="line"><span class="comment">% Results.S_ratio</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,72" id="srcline72"> 72</a></span><span class="line"><span class="comment">%   M: Merged</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,73" id="srcline73"> 73</a></span><span class="line"><span class="comment">% Results.M_listgt</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,74" id="srcline74"> 74</a></span><span class="line"><span class="comment">% Results.M_rategt</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,75" id="srcline75"> 75</a></span><span class="line"><span class="comment">% Results.M_ratio</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,76" id="srcline76"> 76</a></span><span class="line"><span class="comment">%   PU: Spurious</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,77" id="srcline77"> 77</a></span><span class="line"><span class="comment">% Results.PU_listtr</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,78" id="srcline78"> 78</a></span><span class="line"><span class="comment">% Results.PU_ratetr</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,79" id="srcline79"> 79</a></span><span class="line"><span class="comment">%   ND: Non-Detected</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,80" id="srcline80"> 80</a></span><span class="line"><span class="comment">% Results.ND_listgt</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,81" id="srcline81"> 81</a></span><span class="line"><span class="comment">% Results.ND_rategt</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,82" id="srcline82"> 82</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,83" id="srcline83"> 83</a></span><span class="line"><span class="comment">% Please, refer to evaluation.m in order to analyse a complete dataset.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,84" id="srcline84"> 84</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,85" id="srcline85"> 85</a></span><span class="line">[<span class="mxinfo " id="T12:U9"><span class="var type1" id="S10T12U16">M_t</span></span>,<span class="mxinfo " id="T1:U11"><span class="var type1" id="S4T1U17">notes_tr</span></span>]=<span class="fcn" id="F39N9:B19">notes2matrixnotes</span>(<span class="var type1" id="S4T1U20">notes_tr</span>,<span class="var type1" id="S9T2U21">hopsize</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,86" id="srcline86"> 86</a></span><span class="line">[<span class="mxinfo " id="T12:U15"><span class="var type1" id="S12T12U25">M_g</span></span>,<span class="mxinfo " id="T1:U17"><span class="var type1" id="S3T1U26">notes_gt</span></span>]=<span class="fcn" id="F39N9:B28">notes2matrixnotes</span>(<span class="var type1" id="S3T1U29">notes_gt</span>,<span class="var type1" id="S9T2U30">hopsize</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,87" id="srcline87"> 87</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,88" id="srcline88"> 88</a></span><span class="line"><span class="mxinfo " id="T2:U21"><span class="var type1" id="S13T2U33">sizeMax</span>=<span class="mxinfo " id="T2:U23">max(<span class="mxinfo " id="T2:U24">size(<span class="var type1" id="S10T12U38">M_t</span>,2)</span>,<span class="mxinfo " id="T2:U26">size(<span class="var type1" id="S12T12U42">M_g</span>,2)</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,89" id="srcline89"> 89</a></span><span class="line"><span class="mxinfo " id="T12:U28"><span class="var type1" id="S10T12U46">M_t</span>=<span class="mxinfo " id="T12:U30">[<span class="var type1" id="S10T12U49">M_t</span> <span class="mxinfo " id="T12:U32">zeros(<span class="mxinfo " id="T2:U33">size(<span class="var type1" id="S10T12U54">M_t</span>,1)</span>,<span class="mxinfo " id="T2:U35"><span class="var type1" id="S13T2U57">sizeMax</span>-<span class="mxinfo " id="T2:U37">size(<span class="var type1" id="S10T12U60">M_t</span>,2)</span></span>)</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,90" id="srcline90"> 90</a></span><span class="line"><span class="mxinfo " id="T12:U39"><span class="var type1" id="S12T12U64">M_g</span>=<span class="mxinfo " id="T12:U41">[<span class="var type1" id="S12T12U67">M_g</span> <span class="mxinfo " id="T12:U43">zeros(<span class="mxinfo " id="T2:U44">size(<span class="var type1" id="S12T12U72">M_g</span>,1)</span>,<span class="mxinfo " id="T2:U46"><span class="var type1" id="S13T2U75">sizeMax</span>-<span class="mxinfo " id="T2:U48">size(<span class="var type1" id="S12T12U78">M_g</span>,2)</span></span>)</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,91" id="srcline91"> 91</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,92" id="srcline92"> 92</a></span><span class="line"><span class="mxinfo " id="T12:U50"><span class="var type1" id="S17T12U82">L_g</span>=<span class="mxinfo " id="T12:U52"><span class="fcn" id="F72N8:B84">normalization_factors</span>(<span class="var type1" id="S12T12U85">M_g</span>)</span></span>; <span class="comment">%Normalize to duration of gt notes</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,93" id="srcline93"> 93</a></span><span class="line"><span class="mxinfo " id="T12:U54"><span class="var type1" id="S19T12U88">L_t</span>=<span class="mxinfo " id="T12:U56"><span class="fcn" id="F72N8:B90">normalization_factors</span>(<span class="var type1" id="S10T12U91">M_t</span>)</span></span>; <span class="comment">%Normalize to duration of transcribed notes</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,94" id="srcline94"> 94</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,95" id="srcline95"> 95</a></span><span class="line"><span class="mxinfo " id="T12:U58"><span class="var type1" id="S20T12U94">Moverlapped</span>=<span class="mxinfo " id="T12:U60"><span class="fcn" id="F78N5:B96">foverlap</span>(<span class="var type1" id="S12T12U97">M_g</span>,<span class="var type1" id="S10T12U98">M_t</span>)</span></span>; <span class="comment">%Find which notes overlap</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,96" id="srcline96"> 96</a></span><span class="line"><span class="mxinfo " id="T12:U63"><span class="var type1" id="S22T12U101">Moverlapped_pitch</span>=<span class="mxinfo " id="T12:U65"><span class="fcn" id="F79N6:B103">foverlap_pitch</span>(<span class="var type1" id="S12T12U104">M_g</span>,<span class="var type1" id="S10T12U105">M_t</span>,<span class="var type1" id="S8T2U106">f0_range_in_cents</span>)</span></span>; <span class="comment">%Find which notes overlap</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,97" id="srcline97"> 97</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,98" id="srcline98"> 98</a></span><span class="line">coder.varsize(<span class="string">'sNote_tr(:).ovlaptime'</span>, <span class="string">'sNote_tr(:).ovlaptimepitch'</span>, <span class="string">'sNote_tr(:).gt_onsetsok'</span>, <span class="string">'sNote_tr(:).gt_offsetsok'</span>, <span class="string">'sNote_tr(:).gt_split'</span>, <span class="string">'sNote_tr(:).gt_merged'</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,99" id="srcline99"> 99</a></span><span class="line"><span class="mxinfo " id="T49:U69"><span class="var type1" id="S25T49U120">sNote_tr</span> = <span class="mxinfo " id="T30:U71">repmat(struct(<span class="string">'data'</span>, zeros(1, 3), <span class="string">'gt_onsetsok'</span>, zeros(1,0), <span class="string">'gt_offsetsok'</span>, zeros(1,0), <span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,100" id="srcline100">100</a></span><span class="line"><span class="mxinfo " id="T49:U69"><span class="mxinfo " id="T30:U71">                         <span class="string">'ovlaptime'</span>, zeros(1,0), <span class="string">'ovlaptimepitch'</span>, zeros(1, 0), <span class="string">'gt_split'</span>, zeros(1,0), <span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,101" id="srcline101">101</a></span><span class="line"><span class="mxinfo " id="T49:U69"><span class="mxinfo " id="T30:U71">                         <span class="string">'gt_merged'</span>, zeros(1,0)), <span class="mxinfo " id="T2:U72">size(<span class="var type1" id="S4T1U162">notes_tr</span>, 1)</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,102" id="srcline102">102</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S28T2U167">i</span> = <span class="mxinfo " id="T2:U75">1</span>:<span class="mxinfo " id="T2:U76">size(<span class="var type1" id="S4T1U172">notes_tr</span>,1)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,103" id="srcline103">103</a></span><span class="line">    <span class="mxinfo " id="T21:U78"><span class="mxinfo " id="T21:U79"><span class="mxinfo " id="T52:U80"><span class="var type1" id="S25T49U178">sNote_tr</span>(<span class="var type1" id="S28T2U179">i</span>)</span>.data</span>=<span class="mxinfo " id="T21:U83"><span class="var type1" id="S4T1U182">notes_tr</span>(<span class="var type1" id="S28T2U183">i</span>,<span class="mxinfo " id="T53:U86">:</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,104" id="srcline104">104</a></span><span class="line">    <span class="mxinfo " id="T41:U87"><span class="mxinfo " id="T41:U88"><span class="mxinfo " id="T52:U89"><span class="var type1" id="S25T49U189">sNote_tr</span>(<span class="var type1" id="S28T2U190">i</span>)</span>.gt_onsetsok</span>=<span class="mxinfo " id="T22:U92">zeros(<span class="mxinfo " id="T2:U93">1</span>, <span class="mxinfo " id="T2:U94">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,105" id="srcline105">105</a></span><span class="line">    <span class="mxinfo " id="T41:U95"><span class="mxinfo " id="T41:U96"><span class="mxinfo " id="T52:U97"><span class="var type1" id="S25T49U200">sNote_tr</span>(<span class="var type1" id="S28T2U201">i</span>)</span>.gt_offsetsok</span>=<span class="mxinfo " id="T22:U100">zeros(<span class="mxinfo " id="T2:U101">1</span>, <span class="mxinfo " id="T2:U102">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,106" id="srcline106">106</a></span><span class="line">    <span class="mxinfo " id="T41:U103"><span class="mxinfo " id="T41:U104"><span class="mxinfo " id="T52:U105"><span class="var type1" id="S25T49U211">sNote_tr</span>(<span class="var type1" id="S28T2U212">i</span>)</span>.ovlaptime</span>=<span class="mxinfo " id="T41:U108"><span class="mxinfo " id="T36:U109">find(<span class="mxinfo " id="T28:U110"><span class="mxinfo " id="T36:U111"><span class="var type1" id="S20T12U219">Moverlapped</span>(<span class="mxinfo " id="T32:U113">:</span>,<span class="var type1" id="S28T2U221">i</span>)</span>&gt;<span class="mxinfo " id="T2:U115">0</span></span>)</span>'</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,107" id="srcline107">107</a></span><span class="line">    <span class="mxinfo " id="T41:U116"><span class="mxinfo " id="T41:U117"><span class="mxinfo " id="T52:U118"><span class="var type1" id="S25T49U227">sNote_tr</span>(<span class="var type1" id="S28T2U228">i</span>)</span>.ovlaptimepitch</span>=<span class="mxinfo " id="T41:U121"><span class="mxinfo " id="T36:U122">find(<span class="mxinfo " id="T28:U123"><span class="mxinfo " id="T36:U124"><span class="var type1" id="S22T12U235">Moverlapped_pitch</span>(<span class="mxinfo " id="T32:U126">:</span>,<span class="var type1" id="S28T2U237">i</span>)</span>&gt;<span class="mxinfo " id="T2:U128">0</span></span>)</span>'</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,108" id="srcline108">108</a></span><span class="line">    <span class="mxinfo " id="T50:U129"><span class="mxinfo " id="T50:U130"><span class="mxinfo " id="T52:U131"><span class="var type1" id="S25T49U243">sNote_tr</span>(<span class="var type1" id="S28T2U244">i</span>)</span>.gt_split</span>=<span class="mxinfo " id="T22:U134">zeros(<span class="mxinfo " id="T2:U135">1</span>, <span class="mxinfo " id="T2:U136">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,109" id="srcline109">109</a></span><span class="line">    <span class="mxinfo " id="T41:U137"><span class="mxinfo " id="T41:U138"><span class="mxinfo " id="T52:U139"><span class="var type1" id="S25T49U254">sNote_tr</span>(<span class="var type1" id="S28T2U255">i</span>)</span>.gt_merged</span>=<span class="mxinfo " id="T22:U142">zeros(<span class="mxinfo " id="T2:U143">1</span>, <span class="mxinfo " id="T2:U144">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,110" id="srcline110">110</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,111" id="srcline111">111</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,112" id="srcline112">112</a></span><span class="line">coder.varsize(<span class="string">'sNote_gt(:).ovlaptime'</span>, <span class="string">'sNote_gt(:).ovlaptimepitch'</span>, <span class="string">'sNote_gt(:).tr_onsetsok'</span>, <span class="string">'sNote_gt(:).tr_offsetsok'</span>, <span class="string">'sNote_gt(:).tr_split'</span>, <span class="string">'sNote_gt(:).tr_merged'</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,113" id="srcline113">113</a></span><span class="line"><span class="mxinfo " id="T51:U145"><span class="var type1" id="S30T51U274">sNote_gt</span> = <span class="mxinfo " id="T38:U147">repmat(struct(<span class="string">'data'</span>, zeros(1, 3), <span class="string">'tr_onsetsok'</span>, zeros(1,0), <span class="string">'tr_offsetsok'</span>, zeros(1,0), <span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,114" id="srcline114">114</a></span><span class="line"><span class="mxinfo " id="T51:U145"><span class="mxinfo " id="T38:U147">                         <span class="string">'ovlaptime'</span>, zeros(1,0), <span class="string">'ovlaptimepitch'</span>, zeros(1,0), <span class="string">'tr_split'</span>, zeros(1,0), <span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,115" id="srcline115">115</a></span><span class="line"><span class="mxinfo " id="T51:U145"><span class="mxinfo " id="T38:U147">                         <span class="string">'tr_merged'</span>, zeros(1,0)), <span class="mxinfo " id="T2:U148">size(<span class="var type1" id="S3T1U316">notes_gt</span>, 1)</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,116" id="srcline116">116</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S28T2U321">i</span> = <span class="mxinfo " id="T2:U151">1</span>:<span class="mxinfo " id="T2:U152">size(<span class="var type1" id="S3T1U326">notes_gt</span>,1)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,117" id="srcline117">117</a></span><span class="line">    <span class="mxinfo " id="T21:U154"><span class="mxinfo " id="T21:U155"><span class="mxinfo " id="T54:U156"><span class="var type1" id="S30T51U332">sNote_gt</span>(<span class="var type1" id="S28T2U333">i</span>)</span>.data</span>=<span class="mxinfo " id="T21:U159"><span class="var type1" id="S3T1U336">notes_gt</span>(<span class="var type1" id="S28T2U337">i</span>,<span class="mxinfo " id="T53:U162">:</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,118" id="srcline118">118</a></span><span class="line">    <span class="mxinfo " id="T41:U163"><span class="mxinfo " id="T41:U164"><span class="mxinfo " id="T54:U165"><span class="var type1" id="S30T51U343">sNote_gt</span>(<span class="var type1" id="S28T2U344">i</span>)</span>.tr_onsetsok</span>=<span class="mxinfo " id="T22:U168">zeros(<span class="mxinfo " id="T2:U169">1</span>, <span class="mxinfo " id="T2:U170">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,119" id="srcline119">119</a></span><span class="line">    <span class="mxinfo " id="T41:U171"><span class="mxinfo " id="T41:U172"><span class="mxinfo " id="T54:U173"><span class="var type1" id="S30T51U354">sNote_gt</span>(<span class="var type1" id="S28T2U355">i</span>)</span>.tr_offsetsok</span>=<span class="mxinfo " id="T22:U176">zeros(<span class="mxinfo " id="T2:U177">1</span>, <span class="mxinfo " id="T2:U178">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,120" id="srcline120">120</a></span><span class="line">    <span class="mxinfo " id="T41:U179"><span class="mxinfo " id="T41:U180"><span class="mxinfo " id="T54:U181"><span class="var type1" id="S30T51U365">sNote_gt</span>(<span class="var type1" id="S28T2U366">i</span>)</span>.ovlaptime</span>=<span class="mxinfo " id="T41:U184">find(<span class="mxinfo " id="T13:U185"><span class="mxinfo " id="T41:U186"><span class="var type1" id="S20T12U372">Moverlapped</span>(<span class="var type1" id="S28T2U373">i</span>,<span class="mxinfo " id="T32:U189">:</span>)</span>&gt;<span class="mxinfo " id="T2:U190">0</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,121" id="srcline121">121</a></span><span class="line">    <span class="mxinfo " id="T41:U191"><span class="mxinfo " id="T41:U192"><span class="mxinfo " id="T54:U193"><span class="var type1" id="S30T51U380">sNote_gt</span>(<span class="var type1" id="S28T2U381">i</span>)</span>.ovlaptimepitch</span>=<span class="mxinfo " id="T41:U196">find(<span class="mxinfo " id="T13:U197"><span class="mxinfo " id="T41:U198"><span class="var type1" id="S22T12U387">Moverlapped_pitch</span>(<span class="var type1" id="S28T2U388">i</span>,<span class="mxinfo " id="T32:U201">:</span>)</span>&gt;<span class="mxinfo " id="T2:U202">0</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,122" id="srcline122">122</a></span><span class="line">    <span class="mxinfo " id="T41:U203"><span class="mxinfo " id="T41:U204"><span class="mxinfo " id="T54:U205"><span class="var type1" id="S30T51U395">sNote_gt</span>(<span class="var type1" id="S28T2U396">i</span>)</span>.tr_split</span>=<span class="mxinfo " id="T22:U208">zeros(<span class="mxinfo " id="T2:U209">1</span>, <span class="mxinfo " id="T2:U210">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,123" id="srcline123">123</a></span><span class="line">    <span class="mxinfo " id="T50:U211"><span class="mxinfo " id="T50:U212"><span class="mxinfo " id="T54:U213"><span class="var type1" id="S30T51U406">sNote_gt</span>(<span class="var type1" id="S28T2U407">i</span>)</span>.tr_merged</span>=<span class="mxinfo " id="T22:U216">zeros(<span class="mxinfo " id="T2:U217">1</span>, <span class="mxinfo " id="T2:U218">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,124" id="srcline124">124</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,125" id="srcline125">125</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,126" id="srcline126">126</a></span><span class="line"><span class="comment">%Find close onsets</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,127" id="srcline127">127</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S28T2U415">i</span> = <span class="mxinfo " id="T2:U220">1</span>:<span class="mxinfo " id="T2:U221">length(<span class="var type1" id="S25T49U420">sNote_tr</span>)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,128" id="srcline128">128</a></span><span class="line">    <span class="keyword">for</span> <span class="var type1" id="S32T2U423">j</span>=<span class="mxinfo " id="T2:U224">1</span>:<span class="mxinfo " id="T2:U225">length(<span class="var type1" id="S30T51U428">sNote_gt</span>)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,129" id="srcline129">129</a></span><span class="line">        <span class="keyword">if</span>(<span class="mxinfo " id="T7:U227"><span class="mxinfo " id="T2:U228">abs(<span class="mxinfo " id="T2:U229"><span class="mxinfo " id="T2:U230"><span class="mxinfo " id="T21:U231"><span class="mxinfo " id="T54:U232"><span class="var type1" id="S30T51U439">sNote_gt</span>(<span class="var type1" id="S32T2U440">j</span>)</span>.data</span>(1)</span>-<span class="mxinfo " id="T2:U235"><span class="mxinfo " id="T21:U236"><span class="mxinfo " id="T52:U237"><span class="var type1" id="S25T49U446">sNote_tr</span>(<span class="var type1" id="S28T2U447">i</span>)</span>.data</span>(<span class="mxinfo " id="T2:U240">1</span>)</span></span>)</span> &lt;= <span class="var type1" id="S5T2U450">onset_lim</span></span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,130" id="srcline130">130</a></span><span class="line">            <span class="mxinfo " id="T41:U242"><span class="mxinfo " id="T41:U243"><span class="mxinfo " id="T52:U244"><span class="var type1" id="S25T49U455">sNote_tr</span>(<span class="var type1" id="S28T2U456">i</span>)</span>.gt_onsetsok</span>=<span class="mxinfo " id="T41:U247">[<span class="mxinfo " id="T41:U248"><span class="mxinfo " id="T52:U249"><span class="var type1" id="S25T49U462">sNote_tr</span>(<span class="var type1" id="S28T2U463">i</span>)</span>.gt_onsetsok</span> <span class="var type1" id="S32T2U465">j</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,131" id="srcline131">131</a></span><span class="line">            <span class="mxinfo " id="T41:U253"><span class="mxinfo " id="T41:U254"><span class="mxinfo " id="T54:U255"><span class="var type1" id="S30T51U470">sNote_gt</span>(<span class="var type1" id="S32T2U471">j</span>)</span>.tr_onsetsok</span>=<span class="mxinfo " id="T41:U258">[<span class="mxinfo " id="T41:U259"><span class="mxinfo " id="T54:U260"><span class="var type1" id="S30T51U477">sNote_gt</span>(<span class="var type1" id="S32T2U478">j</span>)</span>.tr_onsetsok</span> <span class="var type1" id="S28T2U480">i</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,132" id="srcline132">132</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,133" id="srcline133">133</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,134" id="srcline134">134</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,135" id="srcline135">135</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,136" id="srcline136">136</a></span><span class="line"><span class="comment">%Find close offsets</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,137" id="srcline137">137</a></span><span class="line"><span class="mxinfo " id="T2:U264"><span class="var type1" id="S34T2U483">offset</span> = <span class="mxinfo " id="T2:U266">0.0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,138" id="srcline138">138</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S28T2U487">i</span> = <span class="mxinfo " id="T2:U268">1</span>:<span class="mxinfo " id="T2:U269">length(<span class="var type1" id="S25T49U492">sNote_tr</span>)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,139" id="srcline139">139</a></span><span class="line">    <span class="keyword">for</span> <span class="var type1" id="S32T2U495">j</span>=<span class="mxinfo " id="T2:U272">1</span>:<span class="mxinfo " id="T2:U273">length(<span class="var type1" id="S30T51U500">sNote_gt</span>)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,140" id="srcline140">140</a></span><span class="line">        <span class="mxinfo " id="T2:U275"><span class="var type1" id="S34T2U503">offset</span> = <span class="mxinfo " id="T2:U277"><span class="mxinfo " id="T2:U278"><span class="mxinfo " id="T21:U279"><span class="mxinfo " id="T52:U280"><span class="var type1" id="S25T49U508">sNote_tr</span>(<span class="var type1" id="S28T2U509">i</span>)</span>.data</span>(1)</span>+<span class="mxinfo " id="T2:U283"><span class="mxinfo " id="T21:U284"><span class="mxinfo " id="T52:U285"><span class="var type1" id="S25T49U515">sNote_tr</span>(<span class="var type1" id="S28T2U516">i</span>)</span>.data</span>(<span class="mxinfo " id="T2:U288">2</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,141" id="srcline141">141</a></span><span class="line">        <span class="mxinfo " id="T2:U289"><span class="var type1" id="S35T2U521">durrange</span> = <span class="mxinfo " id="T2:U291">max(<span class="var type1" id="S7T2U524">min_dur_dist</span> , <span class="mxinfo " id="T2:U293"><span class="mxinfo " id="T2:U294"><span class="mxinfo " id="T2:U295"><span class="mxinfo " id="T21:U296"><span class="mxinfo " id="T54:U297"><span class="var type1" id="S30T51U530">sNote_gt</span>(<span class="var type1" id="S32T2U531">j</span>)</span>.data</span>(2)</span>*<span class="var type1" id="S6T2U534">dur_percent_range</span></span>/<span class="mxinfo " id="T2:U301">100</span></span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,142" id="srcline142">142</a></span><span class="line">        <span class="keyword">if</span> (<span class="mxinfo " id="T7:U302"><span class="var type1" id="S34T2U541">offset</span> &gt;= <span class="mxinfo " id="T2:U304"><span class="mxinfo " id="T2:U305"><span class="mxinfo " id="T2:U306"><span class="mxinfo " id="T21:U307"><span class="mxinfo " id="T54:U308"><span class="var type1" id="S30T51U547">sNote_gt</span>(<span class="var type1" id="S32T2U548">j</span>)</span>.data</span>(<span class="mxinfo " id="T2:U311">1</span>)</span> + <span class="mxinfo " id="T2:U312"><span class="mxinfo " id="T21:U313"><span class="mxinfo " id="T54:U314"><span class="var type1" id="S30T51U554">sNote_gt</span>(<span class="var type1" id="S32T2U555">j</span>)</span>.data</span>(<span class="mxinfo " id="T2:U317">2</span>)</span></span>-<span class="var type1" id="S35T2U558">durrange</span></span></span>) &amp;&amp; <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,143" id="srcline143">143</a></span><span class="line">                (<span class="mxinfo " id="T7:U319"><span class="var type1" id="S34T2U561">offset</span> &lt;= <span class="mxinfo " id="T2:U321"><span class="mxinfo " id="T2:U322"><span class="mxinfo " id="T2:U323"><span class="mxinfo " id="T21:U324"><span class="mxinfo " id="T54:U325"><span class="var type1" id="S30T51U567">sNote_gt</span>(<span class="var type1" id="S32T2U568">j</span>)</span>.data</span>(<span class="mxinfo " id="T2:U328">1</span>)</span> + <span class="mxinfo " id="T2:U329"><span class="mxinfo " id="T21:U330"><span class="mxinfo " id="T54:U331"><span class="var type1" id="S30T51U574">sNote_gt</span>(<span class="var type1" id="S32T2U575">j</span>)</span>.data</span>(<span class="mxinfo " id="T2:U334">2</span>)</span></span>+<span class="var type1" id="S35T2U578">durrange</span></span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,144" id="srcline144">144</a></span><span class="line">            <span class="mxinfo " id="T41:U336"><span class="mxinfo " id="T41:U337"><span class="mxinfo " id="T52:U338"><span class="var type1" id="S25T49U583">sNote_tr</span>(<span class="var type1" id="S28T2U584">i</span>)</span>.gt_offsetsok</span>=<span class="mxinfo " id="T41:U341">[<span class="mxinfo " id="T41:U342"><span class="mxinfo " id="T52:U343"><span class="var type1" id="S25T49U590">sNote_tr</span>(<span class="var type1" id="S28T2U591">i</span>)</span>.gt_offsetsok</span> <span class="var type1" id="S32T2U593">j</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,145" id="srcline145">145</a></span><span class="line">            <span class="mxinfo " id="T41:U347"><span class="mxinfo " id="T41:U348"><span class="mxinfo " id="T54:U349"><span class="var type1" id="S30T51U598">sNote_gt</span>(<span class="var type1" id="S32T2U599">j</span>)</span>.tr_offsetsok</span>=<span class="mxinfo " id="T41:U352">[<span class="mxinfo " id="T41:U353"><span class="mxinfo " id="T54:U354"><span class="var type1" id="S30T51U605">sNote_gt</span>(<span class="var type1" id="S32T2U606">j</span>)</span>.tr_offsetsok</span> <span class="var type1" id="S28T2U608">i</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,146" id="srcline146">146</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,147" id="srcline147">147</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,148" id="srcline148">148</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,149" id="srcline149">149</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,150" id="srcline150">150</a></span><span class="line"><span class="comment">%Find split notes</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,151" id="srcline151">151</a></span><span class="line"><span class="mxinfo " id="T12:U358"><span class="var type1" id="S36T12U611">M_refg</span> = <span class="mxinfo " id="T12:U360"><span class="var type1" id="S17T12U613">L_g</span>*<span class="var type1" id="S20T12U614">Moverlapped</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,152" id="srcline152">152</a></span><span class="line"><span class="mxinfo " id="T12:U363"><span class="var type1" id="S37T12U617">M_reft</span> = <span class="mxinfo " id="T12:U365"><span class="var type1" id="S20T12U619">Moverlapped</span>*<span class="var type1" id="S19T12U620">L_t</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,153" id="srcline153">153</a></span><span class="line"><span class="mxinfo " id="T16:U368"><span class="var type1" id="S38T16U623">S</span> = <span class="mxinfo " id="T16:U370">[]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,154" id="srcline154">154</a></span><span class="line"><span class="mxinfo " id="T2:U371"><span class="var type1" id="S39T2U628">t</span>=<span class="mxinfo " id="T2:U373">0.4</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,155" id="srcline155">155</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S28T2U632">i</span>=<span class="mxinfo " id="T2:U375">1</span>:<span class="mxinfo " id="T2:U376">size(<span class="var type1" id="S36T12U637">M_refg</span>,1)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,156" id="srcline156">156</a></span><span class="line">    <span class="mxinfo " id="T2:U378"><span class="var type1" id="S40T2U641">nflag</span> =<span class="mxinfo " id="T2:U380">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,157" id="srcline157">157</a></span><span class="line">    <span class="keyword">for</span> <span class="var type1" id="S32T2U645">j</span>=<span class="mxinfo " id="T2:U382">1</span>:<span class="mxinfo " id="T2:U383">size(<span class="var type1" id="S36T12U650">M_refg</span>,2)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,158" id="srcline158">158</a></span><span class="line">        <span class="mxinfo " id="T2:U385"><span class="var type1" id="S41T2U654">reft</span> = <span class="mxinfo " id="T2:U387"><span class="var type1" id="S37T12U656">M_reft</span>(<span class="var type1" id="S28T2U657">i</span>,<span class="var type1" id="S32T2U658">j</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,159" id="srcline159">159</a></span><span class="line">        <span class="comment">%The t% of the segment must overlap with the ref.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,160" id="srcline160">160</a></span><span class="line">        <span class="keyword">if</span> (<span class="mxinfo " id="T7:U391"><span class="var type1" id="S41T2U663">reft</span>&gt;<span class="mxinfo " id="T2:U393"><span class="var type1" id="S39T2U664">t</span></span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,161" id="srcline161">161</a></span><span class="line">            <span class="mxinfo " id="T2:U395"><span class="var type1" id="S40T2U667">nflag</span>=<span class="mxinfo " id="T2:U397"><span class="var type1" id="S40T2U669">nflag</span>+<span class="mxinfo " id="T2:U399">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,162" id="srcline162">162</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,163" id="srcline163">163</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,164" id="srcline164">164</a></span><span class="line">    <span class="keyword">if</span> (<span class="mxinfo " id="T7:U400"><span class="var type1" id="S40T2U675">nflag</span>&gt;<span class="mxinfo " id="T2:U402">1</span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,165" id="srcline165">165</a></span><span class="line">        <span class="comment">% All the short segments together must overlap the t% of the ref.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,166" id="srcline166">166</a></span><span class="line">        <span class="keyword">if</span> (<span class="mxinfo " id="T7:U403"><span class="mxinfo " id="T2:U404">sum(<span class="mxinfo " id="T41:U405"><span class="var type1" id="S36T12U684">M_refg</span>(<span class="var type1" id="S28T2U685">i</span>,<span class="mxinfo " id="T32:U408">:</span>)</span>)</span>&gt;<span class="mxinfo " id="T2:U409"><span class="var type1" id="S39T2U687">t</span></span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,167" id="srcline167">167</a></span><span class="line">            <span class="mxinfo " id="T41:U411"><span class="var type1" id="S43T41U690">tr_split</span>=<span class="mxinfo " id="T41:U413">find(<span class="mxinfo " id="T13:U414"><span class="mxinfo " id="T41:U415"><span class="var type1" id="S37T12U695">M_reft</span>(<span class="var type1" id="S28T2U696">i</span>,<span class="mxinfo " id="T32:U418">:</span>)</span>&gt;<span class="mxinfo " id="T2:U419"><span class="var type1" id="S39T2U698">t</span></span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,168" id="srcline168">168</a></span><span class="line">            <span class="mxinfo " id="T41:U421"><span class="mxinfo " id="T41:U422"><span class="mxinfo " id="T54:U423"><span class="var type1" id="S30T51U703">sNote_gt</span>(<span class="var type1" id="S28T2U704">i</span>)</span>.tr_split</span>=<span class="var type1" id="S43T41U706">tr_split</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,169" id="srcline169">169</a></span><span class="line">            <span class="keyword">for</span> <span class="var type1" id="S32T2U709">j</span>=<span class="mxinfo " id="T2:U428">1</span>:<span class="mxinfo " id="T2:U429">length(<span class="var type1" id="S43T41U714">tr_split</span>)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,170" id="srcline170">170</a></span><span class="line">                <span class="mxinfo " id="T50:U431"><span class="mxinfo " id="T50:U432"><span class="mxinfo " id="T52:U433"><span class="var type1" id="S25T49U719">sNote_tr</span>(<span class="mxinfo " id="T2:U435"><span class="var type1" id="S43T41U721">tr_split</span>(<span class="var type1" id="S32T2U722">j</span>)</span>)</span>.gt_split</span>=<span class="var type1" id="S28T2U724">i</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,171" id="srcline171">171</a></span><span class="line">            <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,172" id="srcline172">172</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,173" id="srcline173">173</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,174" id="srcline174">174</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,175" id="srcline175">175</a></span><span class="line"><span class="comment">%Find merged notes</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,176" id="srcline176">176</a></span><span class="line"><span class="mxinfo " id="T16:U439"><span class="var type1" id="S44T16U727">M</span> = <span class="mxinfo " id="T16:U441">[]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,177" id="srcline177">177</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S32T2U732">j</span>=<span class="mxinfo " id="T2:U443">1</span>:<span class="mxinfo " id="T2:U444">size(<span class="var type1" id="S37T12U737">M_reft</span>,2)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,178" id="srcline178">178</a></span><span class="line">    <span class="mxinfo " id="T2:U446"><span class="var type1" id="S40T2U741">nflag</span> =<span class="mxinfo " id="T2:U448">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,179" id="srcline179">179</a></span><span class="line">    <span class="keyword">for</span> <span class="var type1" id="S28T2U745">i</span>=<span class="mxinfo " id="T2:U450">1</span>:<span class="mxinfo " id="T2:U451">size(<span class="var type1" id="S37T12U750">M_reft</span>,1)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,180" id="srcline180">180</a></span><span class="line">        <span class="mxinfo " id="T2:U453"><span class="var type1" id="S45T2U754">refg</span> = <span class="mxinfo " id="T2:U455"><span class="var type1" id="S36T12U756">M_refg</span>(<span class="var type1" id="S28T2U757">i</span>,<span class="var type1" id="S32T2U758">j</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,181" id="srcline181">181</a></span><span class="line">        <span class="keyword">if</span> (<span class="mxinfo " id="T7:U459"><span class="var type1" id="S45T2U763">refg</span>&gt;<span class="mxinfo " id="T2:U461"><span class="var type1" id="S39T2U764">t</span></span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,182" id="srcline182">182</a></span><span class="line">            <span class="mxinfo " id="T2:U463"><span class="var type1" id="S40T2U767">nflag</span>=<span class="mxinfo " id="T2:U465"><span class="var type1" id="S40T2U769">nflag</span>+<span class="mxinfo " id="T2:U467">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,183" id="srcline183">183</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,184" id="srcline184">184</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,185" id="srcline185">185</a></span><span class="line">    <span class="keyword">if</span> (<span class="mxinfo " id="T7:U468"><span class="var type1" id="S40T2U775">nflag</span>&gt;<span class="mxinfo " id="T2:U470">1</span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,186" id="srcline186">186</a></span><span class="line">        <span class="mxinfo " id="T41:U471"><span class="var type1" id="S46T41U779">gt_merged</span>=<span class="mxinfo " id="T41:U473"><span class="mxinfo " id="T36:U474">find(<span class="mxinfo " id="T28:U475"><span class="mxinfo " id="T36:U476"><span class="var type1" id="S36T12U785">M_refg</span>(<span class="mxinfo " id="T32:U478">:</span>,<span class="var type1" id="S32T2U787">j</span>)</span>&gt;<span class="mxinfo " id="T2:U480"><span class="var type1" id="S39T2U788">t</span></span></span>)</span>'</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,187" id="srcline187">187</a></span><span class="line">        <span class="mxinfo " id="T41:U482"><span class="mxinfo " id="T41:U483"><span class="mxinfo " id="T52:U484"><span class="var type1" id="S25T49U793">sNote_tr</span>(<span class="var type1" id="S32T2U794">j</span>)</span>.gt_merged</span>=<span class="var type1" id="S46T41U796">gt_merged</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,188" id="srcline188">188</a></span><span class="line">        <span class="keyword">for</span> <span class="var type1" id="S28T2U799">i</span>=<span class="mxinfo " id="T2:U489">1</span>:<span class="mxinfo " id="T2:U490">length(<span class="var type1" id="S46T41U804">gt_merged</span>)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,189" id="srcline189">189</a></span><span class="line">            <span class="mxinfo " id="T50:U492"><span class="mxinfo " id="T50:U493"><span class="mxinfo " id="T54:U494"><span class="var type1" id="S30T51U809">sNote_gt</span>(<span class="mxinfo " id="T2:U496"><span class="var type1" id="S46T41U811">gt_merged</span>(<span class="var type1" id="S28T2U812">i</span>)</span>)</span>.tr_merged</span>=<span class="var type1" id="S32T2U814">j</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,190" id="srcline190">190</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,191" id="srcline191">191</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,192" id="srcline192">192</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,193" id="srcline193">193</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,194" id="srcline194">194</a></span><span class="line"><span class="comment">%C=[ONSET_OK OFFSET_OK PITCH_OK]</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,195" id="srcline195">195</a></span><span class="line"><span class="mxinfo " id="T45:U500"><span class="var type1" id="S47T45U817">C</span>=<span class="mxinfo " id="T45:U502">[1 1 1; 1 0 0; 0 1 1; 1 0 1; 1 1 0]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,196" id="srcline196">196</a></span><span class="line">coder.varsize(<span class="string">'Fnotes_gt'</span>, <span class="string">'notes_gt_111'</span>, <span class="string">'notes_gt_100'</span>, <span class="string">'notes_gt_011'</span>, <span class="string">'notes_gt_101'</span>, <span class="string">'notes_gt_110'</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,197" id="srcline197">197</a></span><span class="line"><span class="mxinfo " id="T41:U503"><span class="var type1" id="S48T41U852">notes_gt_111</span> = <span class="mxinfo " id="T22:U505">zeros(<span class="mxinfo " id="T2:U506">1</span>, <span class="mxinfo " id="T2:U507">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,198" id="srcline198">198</a></span><span class="line"><span class="mxinfo " id="T41:U508"><span class="var type1" id="S49T41U859">notes_gt_100</span> = <span class="mxinfo " id="T22:U510">zeros(<span class="mxinfo " id="T2:U511">1</span>, <span class="mxinfo " id="T2:U512">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,199" id="srcline199">199</a></span><span class="line"><span class="mxinfo " id="T41:U513"><span class="var type1" id="S50T41U866">notes_gt_011</span> = <span class="mxinfo " id="T22:U515">zeros(<span class="mxinfo " id="T2:U516">1</span>, <span class="mxinfo " id="T2:U517">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,200" id="srcline200">200</a></span><span class="line"><span class="mxinfo " id="T41:U518"><span class="var type1" id="S51T41U873">notes_gt_101</span> = <span class="mxinfo " id="T22:U520">zeros(<span class="mxinfo " id="T2:U521">1</span>, <span class="mxinfo " id="T2:U522">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,201" id="srcline201">201</a></span><span class="line"><span class="mxinfo " id="T41:U523"><span class="var type1" id="S52T41U880">notes_gt_110</span> = <span class="mxinfo " id="T22:U525">zeros(<span class="mxinfo " id="T2:U526">1</span>, <span class="mxinfo " id="T2:U527">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,202" id="srcline202">202</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S53T2U887">c</span> = <span class="mxinfo " id="T2:U529">1</span>:5</span></span>
<span class="srcline"><span class="lineno"><a href="1,203" id="srcline203">203</a></span><span class="line">    <span class="mxinfo " id="T22:U530"><span class="var type1" id="S54T22U893">Fnotes_tr</span> = <span class="mxinfo " id="T22:U532">zeros(<span class="mxinfo " id="T2:U533">1</span>, <span class="mxinfo " id="T2:U534">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,204" id="srcline204">204</a></span><span class="line">    <span class="mxinfo " id="T41:U535"><span class="var type1" id="S55T41U900">Fnotes_gt</span> = <span class="mxinfo " id="T22:U537">zeros(<span class="mxinfo " id="T2:U538">1</span>, <span class="mxinfo " id="T2:U539">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,205" id="srcline205">205</a></span><span class="line">    <span class="keyword">for</span> <span class="var type1" id="S28T2U907">i</span> = <span class="mxinfo " id="T2:U541">1</span>:<span class="mxinfo " id="T2:U542">length(<span class="var type1" id="S25T49U912">sNote_tr</span>)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,206" id="srcline206">206</a></span><span class="line">        <span class="mxinfo " id="T41:U544"><span class="var type1" id="S56T41U915">aux_gtnotes</span>=<span class="mxinfo " id="T41:U546">1:<span class="mxinfo " id="T2:U547">length(<span class="var type1" id="S30T51U920">sNote_gt</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,207" id="srcline207">207</a></span><span class="line">        <span class="keyword">if</span> (<span class="mxinfo " id="T7:U549"><span class="mxinfo " id="T2:U550"><span class="var type1" id="S47T45U926">C</span>(<span class="var type1" id="S53T2U927">c</span>,<span class="mxinfo " id="T6:U553">1</span>)</span>==<span class="mxinfo " id="T2:U554">1</span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,208" id="srcline208">208</a></span><span class="line">            <span class="mxinfo " id="T41:U555"><span class="var type1" id="S56T41U932">aux_gtnotes</span>=<span class="mxinfo " id="T41:U557"><span class="fcn" id="F264N7:B934">intersect_simple</span>(<span class="var type1" id="S56T41U935">aux_gtnotes</span>,<span class="mxinfo " id="T41:U559"><span class="mxinfo " id="T52:U560"><span class="var type1" id="S25T49U938">sNote_tr</span>(<span class="var type1" id="S28T2U939">i</span>)</span>.gt_onsetsok</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,209" id="srcline209">209</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,210" id="srcline210">210</a></span><span class="line">        <span class="keyword">if</span> (<span class="mxinfo " id="T7:U563"><span class="mxinfo " id="T2:U564"><span class="var type1" id="S47T45U946">C</span>(<span class="var type1" id="S53T2U947">c</span>,<span class="mxinfo " id="T6:U567">2</span>)</span>==<span class="mxinfo " id="T2:U568">1</span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,211" id="srcline211">211</a></span><span class="line">            <span class="mxinfo " id="T41:U569"><span class="var type1" id="S56T41U952">aux_gtnotes</span>=<span class="mxinfo " id="T41:U571"><span class="fcn" id="F264N7:B954">intersect_simple</span>(<span class="var type1" id="S56T41U955">aux_gtnotes</span>,<span class="mxinfo " id="T41:U573"><span class="mxinfo " id="T52:U574"><span class="var type1" id="S25T49U958">sNote_tr</span>(<span class="var type1" id="S28T2U959">i</span>)</span>.gt_offsetsok</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,212" id="srcline212">212</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,213" id="srcline213">213</a></span><span class="line">        <span class="keyword">if</span> (<span class="mxinfo " id="T7:U577"><span class="mxinfo " id="T2:U578"><span class="var type1" id="S47T45U966">C</span>(<span class="var type1" id="S53T2U967">c</span>,<span class="mxinfo " id="T6:U581">3</span>)</span>==<span class="mxinfo " id="T2:U582">1</span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,214" id="srcline214">214</a></span><span class="line">            <span class="mxinfo " id="T41:U583"><span class="var type1" id="S56T41U972">aux_gtnotes</span>=<span class="mxinfo " id="T41:U585"><span class="fcn" id="F264N7:B974">intersect_simple</span>(<span class="var type1" id="S56T41U975">aux_gtnotes</span>,<span class="mxinfo " id="T41:U587"><span class="mxinfo " id="T52:U588"><span class="var type1" id="S25T49U978">sNote_tr</span>(<span class="var type1" id="S28T2U979">i</span>)</span>.ovlaptimepitch</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,215" id="srcline215">215</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,216" id="srcline216">216</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,217" id="srcline217">217</a></span><span class="line">        <span class="comment">%Only one ground-truth &lt;-&gt; Transcribed note association</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,218" id="srcline218">218</a></span><span class="line">        <span class="mxinfo " id="T41:U591"><span class="var type1" id="S56T41U983">aux_gtnotes</span>=<span class="mxinfo " id="T41:U593"><span class="fcn" id="F265N10:B985">setdiff_simple</span>(<span class="var type1" id="S56T41U986">aux_gtnotes</span>,<span class="var type1" id="S55T41U987">Fnotes_gt</span>)</span></span>; <span class="comment">%Ignore if already considered</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,219" id="srcline219">219</a></span><span class="line">        <span class="keyword">if</span> <span class="mxinfo " id="T7:U596">~<span class="mxinfo " id="T7:U597">isempty(<span class="var type1" id="S56T41U993">aux_gtnotes</span>)</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,220" id="srcline220">220</a></span><span class="line">            <span class="mxinfo " id="T2:U599"><span class="var type1" id="S56T2U996">aux_gtnotes</span>=<span class="mxinfo " id="T2:U601"><span class="var type1" id="S56T41U998">aux_gtnotes</span>(<span class="mxinfo " id="T2:U603">1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,221" id="srcline221">221</a></span><span class="line">            <span class="mxinfo " id="T41:U604"><span class="var type1" id="S55T41U1002">Fnotes_gt</span>=<span class="mxinfo " id="T41:U606">unique(<span class="mxinfo " id="T41:U607">[<span class="var type1" id="S55T41U1007">Fnotes_gt</span> <span class="keyword">...</span></span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,222" id="srcline222">222</a></span><span class="line"><span class="mxinfo " id="T41:U604"><span class="mxinfo " id="T41:U606"><span class="mxinfo " id="T41:U607">                <span class="var type1" id="S56T2U1009">aux_gtnotes</span>(1)]</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,223" id="srcline223">223</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,224" id="srcline224">224</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,225" id="srcline225">225</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T7:U610"><span class="var type1" id="S53T2U1014">c</span> == <span class="mxinfo " id="T2:U612">1</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,226" id="srcline226">226</a></span><span class="line">        <span class="mxinfo " id="T41:U613"><span class="var type1" id="S48T41U1018">notes_gt_111</span> = <span class="var type1" id="S55T41U1019">Fnotes_gt</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,227" id="srcline227">227</a></span><span class="line">    <span class="keyword">elseif</span> <span class="mxinfo " id="T7:U616"><span class="var type1" id="S53T2U1022">c</span> == <span class="mxinfo " id="T2:U618">2</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,228" id="srcline228">228</a></span><span class="line">        <span class="mxinfo " id="T41:U619"><span class="var type1" id="S49T41U1026">notes_gt_100</span> = <span class="var type1" id="S55T41U1027">Fnotes_gt</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,229" id="srcline229">229</a></span><span class="line">    <span class="keyword">elseif</span> <span class="mxinfo " id="T7:U622"><span class="var type1" id="S53T2U1030">c</span> == <span class="mxinfo " id="T2:U624">3</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,230" id="srcline230">230</a></span><span class="line">        <span class="mxinfo " id="T41:U625"><span class="var type1" id="S50T41U1034">notes_gt_011</span> = <span class="var type1" id="S55T41U1035">Fnotes_gt</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,231" id="srcline231">231</a></span><span class="line">    <span class="keyword">elseif</span> <span class="mxinfo " id="T7:U628"><span class="var type1" id="S53T2U1038">c</span> == <span class="mxinfo " id="T2:U630">4</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,232" id="srcline232">232</a></span><span class="line">        <span class="mxinfo " id="T41:U631"><span class="var type1" id="S51T41U1042">notes_gt_101</span> = <span class="var type1" id="S55T41U1043">Fnotes_gt</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,233" id="srcline233">233</a></span><span class="line">    <span class="keyword">elseif</span> <span class="mxinfo " id="T7:U634"><span class="var type1" id="S53T2U1046">c</span> == <span class="mxinfo " id="T2:U636">5</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,234" id="srcline234">234</a></span><span class="line">        <span class="mxinfo " id="T41:U637"><span class="var type1" id="S52T41U1050">notes_gt_110</span> = <span class="var type1" id="S55T41U1051">Fnotes_gt</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,235" id="srcline235">235</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,236" id="srcline236">236</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,237" id="srcline237">237</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,238" id="srcline238">238</a></span><span class="line"><span class="mxinfo " id="T41:U640"><span class="var type1" id="S61T41U1054">notes_gt_011b</span> = <span class="mxinfo " id="T41:U642"><span class="fcn" id="F265N10:B1056">setdiff_simple</span>(<span class="var type1" id="S50T41U1057">notes_gt_011</span>,<span class="var type1" id="S48T41U1058">notes_gt_111</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,239" id="srcline239">239</a></span><span class="line"><span class="mxinfo " id="T41:U645"><span class="var type1" id="S62T41U1061">notes_gt_101b</span> = <span class="mxinfo " id="T41:U647"><span class="fcn" id="F265N10:B1063">setdiff_simple</span>(<span class="var type1" id="S51T41U1064">notes_gt_101</span>,<span class="var type1" id="S48T41U1065">notes_gt_111</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,240" id="srcline240">240</a></span><span class="line"><span class="mxinfo " id="T41:U650"><span class="var type1" id="S63T41U1068">notes_gt_110b</span> = <span class="mxinfo " id="T41:U652"><span class="fcn" id="F265N10:B1070">setdiff_simple</span>(<span class="var type1" id="S52T41U1071">notes_gt_110</span>,<span class="var type1" id="S48T41U1072">notes_gt_111</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,241" id="srcline241">241</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,242" id="srcline242">242</a></span><span class="line"><span class="mxinfo " id="T41:U655"><span class="var type1" id="S64T41U1075">Fnotes_tr_split</span> = <span class="mxinfo " id="T22:U657">zeros(<span class="mxinfo " id="T2:U658">1</span>,<span class="mxinfo " id="T2:U659">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,243" id="srcline243">243</a></span><span class="line"><span class="mxinfo " id="T41:U660"><span class="var type1" id="S65T41U1082">Fnotes_gt_split</span> = <span class="mxinfo " id="T22:U662">zeros(<span class="mxinfo " id="T2:U663">1</span>,<span class="mxinfo " id="T2:U664">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,244" id="srcline244">244</a></span><span class="line"><span class="mxinfo " id="T41:U665"><span class="var type1" id="S66T41U1089">Fnotes_tr_merged</span> = <span class="mxinfo " id="T22:U667">zeros(<span class="mxinfo " id="T2:U668">1</span>,<span class="mxinfo " id="T2:U669">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,245" id="srcline245">245</a></span><span class="line"><span class="mxinfo " id="T41:U670"><span class="var type1" id="S67T41U1096">Fnotes_gt_merged</span> = <span class="mxinfo " id="T22:U672">zeros(<span class="mxinfo " id="T2:U673">1</span>,<span class="mxinfo " id="T2:U674">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,246" id="srcline246">246</a></span><span class="line"><span class="mxinfo " id="T41:U675"><span class="var type1" id="S68T41U1103">Fnotes_tr_detected</span> = <span class="mxinfo " id="T22:U677">zeros(<span class="mxinfo " id="T2:U678">1</span>,<span class="mxinfo " id="T2:U679">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,247" id="srcline247">247</a></span><span class="line"><span class="mxinfo " id="T41:U680"><span class="var type1" id="S69T41U1110">Fnotes_gt_detected</span> = <span class="mxinfo " id="T22:U682">zeros(<span class="mxinfo " id="T2:U683">1</span>,<span class="mxinfo " id="T2:U684">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,248" id="srcline248">248</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,249" id="srcline249">249</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S28T2U1117">i</span> = <span class="mxinfo " id="T2:U686">1</span>:<span class="mxinfo " id="T2:U687">length(<span class="var type1" id="S25T49U1122">sNote_tr</span>)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,250" id="srcline250">250</a></span><span class="line">    <span class="mxinfo " id="T41:U689"><span class="var type1" id="S65T41U1125">Fnotes_gt_split</span>=<span class="mxinfo " id="T41:U691">[<span class="var type1" id="S65T41U1128">Fnotes_gt_split</span>   <span class="mxinfo " id="T50:U693"><span class="mxinfo " id="T52:U694"><span class="var type1" id="S25T49U1131">sNote_tr</span>(<span class="var type1" id="S28T2U1132">i</span>)</span>.gt_split</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,251" id="srcline251">251</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T7:U697">~<span class="mxinfo " id="T7:U698">isempty(<span class="mxinfo " id="T50:U699"><span class="mxinfo " id="T52:U700"><span class="var type1" id="S25T49U1141">sNote_tr</span>(<span class="var type1" id="S28T2U1142">i</span>)</span>.gt_split</span>)</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,252" id="srcline252">252</a></span><span class="line">        <span class="mxinfo " id="T41:U703"><span class="var type1" id="S64T41U1146">Fnotes_tr_split</span>=<span class="mxinfo " id="T41:U705">[<span class="var type1" id="S64T41U1149">Fnotes_tr_split</span> <span class="var type1" id="S28T2U1150">i</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,253" id="srcline253">253</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,254" id="srcline254">254</a></span><span class="line">    <span class="mxinfo " id="T41:U708"><span class="var type1" id="S69T41U1153">Fnotes_gt_detected</span>=<span class="mxinfo " id="T41:U710">[<span class="var type1" id="S69T41U1156">Fnotes_gt_detected</span>   <span class="mxinfo " id="T41:U712"><span class="mxinfo " id="T52:U713"><span class="var type1" id="S25T49U1159">sNote_tr</span>(<span class="var type1" id="S28T2U1160">i</span>)</span>.ovlaptime</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,255" id="srcline255">255</a></span><span class="line">    <span class="mxinfo " id="T41:U716"><span class="var type1" id="S67T41U1164">Fnotes_gt_merged</span>=<span class="mxinfo " id="T41:U718">[<span class="var type1" id="S67T41U1167">Fnotes_gt_merged</span>   <span class="mxinfo " id="T41:U720"><span class="mxinfo " id="T52:U721"><span class="var type1" id="S25T49U1170">sNote_tr</span>(<span class="var type1" id="S28T2U1171">i</span>)</span>.gt_merged</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,256" id="srcline256">256</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T7:U724">~<span class="mxinfo " id="T7:U725">isempty(<span class="mxinfo " id="T41:U726"><span class="mxinfo " id="T52:U727"><span class="var type1" id="S25T49U1180">sNote_tr</span>(<span class="var type1" id="S28T2U1181">i</span>)</span>.gt_merged</span>)</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,257" id="srcline257">257</a></span><span class="line">        <span class="mxinfo " id="T41:U730"><span class="var type1" id="S66T41U1185">Fnotes_tr_merged</span>=<span class="mxinfo " id="T41:U732">[<span class="var type1" id="S66T41U1188">Fnotes_tr_merged</span> <span class="var type1" id="S28T2U1189">i</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,258" id="srcline258">258</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,259" id="srcline259">259</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T7:U735">~<span class="mxinfo " id="T7:U736">isempty(<span class="mxinfo " id="T41:U737"><span class="mxinfo " id="T52:U738"><span class="var type1" id="S25T49U1197">sNote_tr</span>(<span class="var type1" id="S28T2U1198">i</span>)</span>.ovlaptime</span>)</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,260" id="srcline260">260</a></span><span class="line">        <span class="mxinfo " id="T41:U741"><span class="var type1" id="S68T41U1202">Fnotes_tr_detected</span>=<span class="mxinfo " id="T41:U743">[<span class="var type1" id="S68T41U1205">Fnotes_tr_detected</span> <span class="var type1" id="S28T2U1206">i</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,261" id="srcline261">261</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,262" id="srcline262">262</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,263" id="srcline263">263</a></span><span class="line"><span class="mxinfo " id="T2:U746"><span class="var type1" id="S70T2U1209">N_GT</span>=<span class="mxinfo " id="T2:U748">length(<span class="var type1" id="S30T51U1212">sNote_gt</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,264" id="srcline264">264</a></span><span class="line"><span class="mxinfo " id="T2:U750"><span class="var type1" id="S71T2U1215">N_TR</span>=<span class="mxinfo " id="T2:U752">length(<span class="var type1" id="S25T49U1218">sNote_tr</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,265" id="srcline265">265</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,266" id="srcline266">266</a></span><span class="line"><span class="mxinfo " id="T41:U754"><span class="var type1" id="S72T41U1221">S_listgt</span>=<span class="mxinfo " id="T41:U756">unique(<span class="var type1" id="S65T41U1224">Fnotes_gt_split</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,267" id="srcline267">267</a></span><span class="line"><span class="mxinfo " id="T41:U758"><span class="var type1" id="S73T41U1227">S_listtr</span>=<span class="mxinfo " id="T41:U760">unique(<span class="var type1" id="S64T41U1230">Fnotes_tr_split</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,268" id="srcline268">268</a></span><span class="line"><span class="mxinfo " id="T41:U762"><span class="var type1" id="S74T41U1233">M_listgt</span>=<span class="mxinfo " id="T41:U764">unique(<span class="var type1" id="S67T41U1236">Fnotes_gt_merged</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,269" id="srcline269">269</a></span><span class="line"><span class="mxinfo " id="T41:U766"><span class="var type1" id="S75T41U1239">M_listtr</span>=<span class="mxinfo " id="T41:U768">unique(<span class="var type1" id="S66T41U1242">Fnotes_tr_merged</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,270" id="srcline270">270</a></span><span class="line"><span class="mxinfo " id="T41:U770"><span class="var type1" id="S76T41U1245">ND_listgt</span>=<span class="mxinfo " id="T41:U772"><span class="fcn" id="F265N10:B1247">setdiff_simple</span>(<span class="mxinfo " id="T41:U773">1:<span class="var type1" id="S70T2U1250">N_GT</span></span>,<span class="mxinfo " id="T41:U775">unique(<span class="var type1" id="S69T41U1253">Fnotes_gt_detected</span>)</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,271" id="srcline271">271</a></span><span class="line"><span class="mxinfo " id="T41:U777"><span class="var type1" id="S77T41U1256">PU_listtr</span>=<span class="mxinfo " id="T41:U779"><span class="fcn" id="F265N10:B1258">setdiff_simple</span>(<span class="mxinfo " id="T41:U780">1:<span class="var type1" id="S71T2U1261">N_TR</span></span>,<span class="mxinfo " id="T41:U782">unique(<span class="var type1" id="S68T41U1264">Fnotes_tr_detected</span>)</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,272" id="srcline272">272</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,273" id="srcline273">273</a></span><span class="line"><span class="comment">% ---- Write output struct Results:</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,274" id="srcline274">274</a></span><span class="line"><span class="mxinfo " id="T2:U784"><span class="mxinfo " id="T2:U785"><span class="var type1" id="S2T48U1268">Results</span>.Dur_GT</span>=<span class="mxinfo " id="T2:U787"><span class="mxinfo " id="T2:U788"><span class="var type1" id="S3T1U1272">notes_gt</span>(<span class="mxinfo " id="T2:U790">end</span>,<span class="mxinfo " id="T2:U791">1</span>)</span>+<span class="mxinfo " id="T2:U792"><span class="var type1" id="S3T1U1277">notes_gt</span>(<span class="mxinfo " id="T2:U794">end</span>,<span class="mxinfo " id="T2:U795">2</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,275" id="srcline275">275</a></span><span class="line"><span class="mxinfo " id="T2:U796"><span class="mxinfo " id="T2:U797"><span class="var type1" id="S2T48U1284">Results</span>.Dur_TR</span>=<span class="mxinfo " id="T2:U799"><span class="mxinfo " id="T2:U800"><span class="var type1" id="S4T1U1288">notes_tr</span>(<span class="mxinfo " id="T2:U802">end</span>,<span class="mxinfo " id="T2:U803">1</span>)</span>+<span class="mxinfo " id="T2:U804"><span class="var type1" id="S4T1U1293">notes_tr</span>(<span class="mxinfo " id="T2:U806">end</span>,<span class="mxinfo " id="T2:U807">2</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,276" id="srcline276">276</a></span><span class="line"><span class="mxinfo " id="T2:U808"><span class="mxinfo " id="T2:U809"><span class="var type1" id="S2T48U1300">Results</span>.N_GT</span>=<span class="var type1" id="S70T2U1302">N_GT</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,277" id="srcline277">277</a></span><span class="line"><span class="mxinfo " id="T2:U812"><span class="mxinfo " id="T2:U813"><span class="var type1" id="S2T48U1306">Results</span>.N_TR</span>=<span class="var type1" id="S71T2U1308">N_TR</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,278" id="srcline278">278</a></span><span class="line"><span class="mxinfo " id="T41:U816"><span class="mxinfo " id="T41:U817"><span class="var type1" id="S2T48U1312">Results</span>.COnPOff_listgt</span>=<span class="var type1" id="S48T41U1314">notes_gt_111</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,279" id="srcline279">279</a></span><span class="line"><span class="mxinfo " id="T2:U820"><span class="mxinfo " id="T2:U821"><span class="var type1" id="S2T48U1318">Results</span>.COnPOff_Precision</span>=<span class="mxinfo " id="T2:U823"><span class="mxinfo " id="T2:U824">length(<span class="var type1" id="S48T41U1323">notes_gt_111</span>)</span>/<span class="var type1" id="S70T2U1324">N_GT</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,280" id="srcline280">280</a></span><span class="line"><span class="mxinfo " id="T2:U827"><span class="mxinfo " id="T2:U828"><span class="var type1" id="S2T48U1328">Results</span>.COnPOff_Recall</span>=<span class="mxinfo " id="T2:U830"><span class="mxinfo " id="T2:U831">length(<span class="var type1" id="S48T41U1333">notes_gt_111</span>)</span>/<span class="var type1" id="S71T2U1334">N_TR</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,281" id="srcline281">281</a></span><span class="line"><span class="mxinfo " id="T2:U834"><span class="mxinfo " id="T2:U835"><span class="var type1" id="S2T48U1338">Results</span>.COnPOff_Fmeasure</span>=<span class="mxinfo " id="T2:U837"><span class="mxinfo " id="T2:U838"><span class="mxinfo " id="T2:U839">2</span>*<span class="mxinfo " id="T2:U840">length(<span class="var type1" id="S48T41U1345">notes_gt_111</span>)</span></span>/(<span class="mxinfo " id="T2:U842"><span class="var type1" id="S70T2U1348">N_GT</span>+<span class="var type1" id="S71T2U1349">N_TR</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,282" id="srcline282">282</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,283" id="srcline283">283</a></span><span class="line"><span class="mxinfo " id="T41:U845"><span class="mxinfo " id="T41:U846"><span class="var type1" id="S2T48U1353">Results</span>.COnOff_listgt</span>=<span class="var type1" id="S52T41U1355">notes_gt_110</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,284" id="srcline284">284</a></span><span class="line"><span class="mxinfo " id="T2:U849"><span class="mxinfo " id="T2:U850"><span class="var type1" id="S2T48U1359">Results</span>.COnOff_Precision</span>=<span class="mxinfo " id="T2:U852"><span class="mxinfo " id="T2:U853">length(<span class="var type1" id="S52T41U1364">notes_gt_110</span>)</span>/<span class="var type1" id="S70T2U1365">N_GT</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,285" id="srcline285">285</a></span><span class="line"><span class="mxinfo " id="T2:U856"><span class="mxinfo " id="T2:U857"><span class="var type1" id="S2T48U1369">Results</span>.COnOff_Recall</span>=<span class="mxinfo " id="T2:U859"><span class="mxinfo " id="T2:U860">length(<span class="var type1" id="S52T41U1374">notes_gt_110</span>)</span>/<span class="var type1" id="S71T2U1375">N_TR</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,286" id="srcline286">286</a></span><span class="line"><span class="mxinfo " id="T2:U863"><span class="mxinfo " id="T2:U864"><span class="var type1" id="S2T48U1379">Results</span>.COnOff_Fmeasure</span>=<span class="mxinfo " id="T2:U866"><span class="mxinfo " id="T2:U867"><span class="mxinfo " id="T2:U868">2</span>*<span class="mxinfo " id="T2:U869">length(<span class="var type1" id="S52T41U1386">notes_gt_110</span>)</span></span>/(<span class="mxinfo " id="T2:U871"><span class="var type1" id="S70T2U1389">N_GT</span>+<span class="var type1" id="S71T2U1390">N_TR</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,287" id="srcline287">287</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,288" id="srcline288">288</a></span><span class="line"><span class="mxinfo " id="T41:U874"><span class="mxinfo " id="T41:U875"><span class="var type1" id="S2T48U1394">Results</span>.COnP_listgt</span>=<span class="var type1" id="S51T41U1396">notes_gt_101</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,289" id="srcline289">289</a></span><span class="line"><span class="mxinfo " id="T2:U878"><span class="mxinfo " id="T2:U879"><span class="var type1" id="S2T48U1400">Results</span>.COnP_Precision</span>=<span class="mxinfo " id="T2:U881"><span class="mxinfo " id="T2:U882">length(<span class="var type1" id="S51T41U1405">notes_gt_101</span>)</span>/<span class="var type1" id="S70T2U1406">N_GT</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,290" id="srcline290">290</a></span><span class="line"><span class="mxinfo " id="T2:U885"><span class="mxinfo " id="T2:U886"><span class="var type1" id="S2T48U1410">Results</span>.COnP_Recall</span>=<span class="mxinfo " id="T2:U888"><span class="mxinfo " id="T2:U889">length(<span class="var type1" id="S51T41U1415">notes_gt_101</span>)</span>/<span class="var type1" id="S71T2U1416">N_TR</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,291" id="srcline291">291</a></span><span class="line"><span class="mxinfo " id="T2:U892"><span class="mxinfo " id="T2:U893"><span class="var type1" id="S2T48U1420">Results</span>.COnP_Fmeasure</span>=<span class="mxinfo " id="T2:U895"><span class="mxinfo " id="T2:U896"><span class="mxinfo " id="T2:U897">2</span>*<span class="mxinfo " id="T2:U898">length(<span class="var type1" id="S51T41U1427">notes_gt_101</span>)</span></span>/(<span class="mxinfo " id="T2:U900"><span class="var type1" id="S70T2U1430">N_GT</span>+<span class="var type1" id="S71T2U1431">N_TR</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,292" id="srcline292">292</a></span><span class="line"><span class="mxinfo " id="T41:U903"><span class="mxinfo " id="T41:U904"><span class="var type1" id="S2T48U1435">Results</span>.COn_listgt</span>=<span class="var type1" id="S49T41U1437">notes_gt_100</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,293" id="srcline293">293</a></span><span class="line"><span class="mxinfo " id="T2:U907"><span class="mxinfo " id="T2:U908"><span class="var type1" id="S2T48U1441">Results</span>.COn_Precision</span>=<span class="mxinfo " id="T2:U910"><span class="mxinfo " id="T2:U911">length(<span class="var type1" id="S49T41U1446">notes_gt_100</span>)</span>/<span class="var type1" id="S70T2U1447">N_GT</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,294" id="srcline294">294</a></span><span class="line"><span class="mxinfo " id="T2:U914"><span class="mxinfo " id="T2:U915"><span class="var type1" id="S2T48U1451">Results</span>.COn_Recall</span>=<span class="mxinfo " id="T2:U917"><span class="mxinfo " id="T2:U918">length(<span class="var type1" id="S49T41U1456">notes_gt_100</span>)</span>/<span class="var type1" id="S71T2U1457">N_TR</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,295" id="srcline295">295</a></span><span class="line"><span class="mxinfo " id="T2:U921"><span class="mxinfo " id="T2:U922"><span class="var type1" id="S2T48U1461">Results</span>.COn_Fmeasure</span>=<span class="mxinfo " id="T2:U924"><span class="mxinfo " id="T2:U925"><span class="mxinfo " id="T2:U926">2</span>*<span class="mxinfo " id="T2:U927">length(<span class="var type1" id="S49T41U1468">notes_gt_100</span>)</span></span>/(<span class="mxinfo " id="T2:U929"><span class="var type1" id="S70T2U1471">N_GT</span>+<span class="var type1" id="S71T2U1472">N_TR</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,296" id="srcline296">296</a></span><span class="line"><span class="mxinfo " id="T41:U932"><span class="mxinfo " id="T41:U933"><span class="var type1" id="S2T48U1476">Results</span>.OBOn_listgt</span>=<span class="var type1" id="S61T41U1478">notes_gt_011b</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,297" id="srcline297">297</a></span><span class="line"><span class="mxinfo " id="T2:U936"><span class="mxinfo " id="T2:U937"><span class="var type1" id="S2T48U1482">Results</span>.OBOn_rategt</span>=<span class="mxinfo " id="T2:U939"><span class="mxinfo " id="T2:U940">length(<span class="var type1" id="S61T41U1487">notes_gt_011b</span>)</span>/<span class="var type1" id="S70T2U1488">N_GT</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,298" id="srcline298">298</a></span><span class="line"><span class="mxinfo " id="T41:U943"><span class="mxinfo " id="T41:U944"><span class="var type1" id="S2T48U1492">Results</span>.OBP_listgt</span>=<span class="var type1" id="S63T41U1494">notes_gt_110b</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,299" id="srcline299">299</a></span><span class="line"><span class="mxinfo " id="T2:U947"><span class="mxinfo " id="T2:U948"><span class="var type1" id="S2T48U1498">Results</span>.OBP_rategt</span>=<span class="mxinfo " id="T2:U950"><span class="mxinfo " id="T2:U951">length(<span class="var type1" id="S63T41U1503">notes_gt_110b</span>)</span>/<span class="var type1" id="S70T2U1504">N_GT</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,300" id="srcline300">300</a></span><span class="line"><span class="mxinfo " id="T41:U954"><span class="mxinfo " id="T41:U955"><span class="var type1" id="S2T48U1508">Results</span>.OBOff_listgt</span>=<span class="var type1" id="S62T41U1510">notes_gt_101b</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,301" id="srcline301">301</a></span><span class="line"><span class="mxinfo " id="T2:U958"><span class="mxinfo " id="T2:U959"><span class="var type1" id="S2T48U1514">Results</span>.OBOff_rategt</span>=<span class="mxinfo " id="T2:U961"><span class="mxinfo " id="T2:U962">length(<span class="var type1" id="S62T41U1519">notes_gt_101b</span>)</span>/<span class="var type1" id="S70T2U1520">N_GT</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,302" id="srcline302">302</a></span><span class="line"><span class="mxinfo " id="T41:U965"><span class="mxinfo " id="T41:U966"><span class="var type1" id="S2T48U1524">Results</span>.S_listgt</span>=<span class="var type1" id="S72T41U1526">S_listgt</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,303" id="srcline303">303</a></span><span class="line"><span class="mxinfo " id="T2:U969"><span class="mxinfo " id="T2:U970"><span class="var type1" id="S2T48U1530">Results</span>.S_rategt</span>=<span class="mxinfo " id="T2:U972"><span class="mxinfo " id="T2:U973">length(<span class="var type1" id="S72T41U1535">S_listgt</span>)</span>/<span class="var type1" id="S70T2U1536">N_GT</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,304" id="srcline304">304</a></span><span class="line"><span class="mxinfo " id="T2:U976"><span class="mxinfo " id="T2:U977"><span class="var type1" id="S2T48U1540">Results</span>.S_ratio</span>=<span class="mxinfo " id="T2:U979"><span class="mxinfo " id="T2:U980">length(<span class="var type1" id="S73T41U1545">S_listtr</span>)</span>/<span class="mxinfo " id="T2:U982">length(<span class="var type1" id="S72T41U1548">S_listgt</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,305" id="srcline305">305</a></span><span class="line"><span class="mxinfo " id="T41:U984"><span class="mxinfo " id="T41:U985"><span class="var type1" id="S2T48U1552">Results</span>.M_listgt</span>=<span class="var type1" id="S74T41U1554">M_listgt</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,306" id="srcline306">306</a></span><span class="line"><span class="mxinfo " id="T2:U988"><span class="mxinfo " id="T2:U989"><span class="var type1" id="S2T48U1558">Results</span>.M_rategt</span>=<span class="mxinfo " id="T2:U991"><span class="mxinfo " id="T2:U992">length(<span class="var type1" id="S74T41U1563">M_listgt</span>)</span>/<span class="var type1" id="S70T2U1564">N_GT</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,307" id="srcline307">307</a></span><span class="line"><span class="mxinfo " id="T2:U995"><span class="mxinfo " id="T2:U996"><span class="var type1" id="S2T48U1568">Results</span>.M_ratio</span>=<span class="mxinfo " id="T2:U998"><span class="mxinfo " id="T2:U999">length(<span class="var type1" id="S75T41U1573">M_listtr</span>)</span>/<span class="mxinfo " id="T2:U1001">length(<span class="var type1" id="S74T41U1576">M_listgt</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,308" id="srcline308">308</a></span><span class="line"><span class="mxinfo " id="T41:U1003"><span class="mxinfo " id="T41:U1004"><span class="var type1" id="S2T48U1580">Results</span>.PU_listtr</span>=<span class="var type1" id="S77T41U1582">PU_listtr</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,309" id="srcline309">309</a></span><span class="line"><span class="mxinfo " id="T2:U1007"><span class="mxinfo " id="T2:U1008"><span class="var type1" id="S2T48U1586">Results</span>.PU_ratetr</span>=<span class="mxinfo " id="T2:U1010"><span class="mxinfo " id="T2:U1011">length(<span class="var type1" id="S75T41U1591">M_listtr</span>)</span>/<span class="var type1" id="S71T2U1592">N_TR</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,310" id="srcline310">310</a></span><span class="line"><span class="mxinfo " id="T41:U1014"><span class="mxinfo " id="T41:U1015"><span class="var type1" id="S2T48U1596">Results</span>.ND_listgt</span>=<span class="var type1" id="S76T41U1598">ND_listgt</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,311" id="srcline311">311</a></span><span class="line"><span class="mxinfo " id="T2:U1018"><span class="mxinfo " id="T2:U1019"><span class="var type1" id="S2T48U1602">Results</span>.ND_rategt</span>=<span class="mxinfo " id="T2:U1021"><span class="mxinfo " id="T2:U1022">length(<span class="var type1" id="S76T41U1607">ND_listgt</span>)</span>/<span class="var type1" id="S70T2U1608">N_GT</span></span></span>;</span></span>
</pre>
